<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Weather App</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://rawgit.com/marvelapp/devices.css/master/assets/devices.min.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alegreya+Sans:300,400,500,700">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
		<link rel="stylesheet" href="css/style.css">
	</head>

	<body>
		<div class="marvel-device nexus5">
			<div class="top-bar"></div>
			<div class="sleep"></div>
			<div class="volume"></div>
			<div class="camera"></div>
			
			<div class="screen">
					
						
						
						<button id="printCookie" onclick="printCookie()">Show Recent Places</button> 
						
				<form method="get" class="form" id ="myform">
					<fieldset>
						<legend>If searching by city the latitude and longitude input fields will autofill your coords.</legend>
						
						<ul class="list-reset">
							<li class="form-field">
								<label for="city-search">City Name</label>
								<input type="text" id="city-search" placeholder="e.g. Rochester, NY" name="city">
							</li>

							<li class="form-field">
								<label for="latitude">Latitude</label>
								<input type="text"name="latitude" id="latitude" placeholder="e.g. 42.9150747" required>
							</li>

							<li class="form-field">
								<label for="longitude">Longitude</label>
								<input type="text" name="longitude" id="longitude" placeholder="e.g. -77.784323" required>
							</li>

							<li class="form-field">
								<input type="checkbox" id="celsius">
								<label for="celsius">Report Celsius</label>
							</li>
						</ul>
						
						
					</fieldset>

					<button name="weather" onclick="WriteCookie()">Get Weather</button>
				</form>
			</div>
			<!-- /END MEAT AND TATERS OF APP -->
		</div>

		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/skycons/1396634940/skycons.min.js'></script>
		<script src="js/index.js"></script>
		<script src="E:\eclipse\plugins\carhartl-jquery-cookie-92b7715/jquery.cookie.js"></script>
		<script>
		function WriteCookie()
		{
		//var customObj={};
		//customObj.city=document.getElementById("city-search").value;
		//customObj.latitude=document.getElementById("latitude").value;
		//customObj.longitude=document.getElementById("longitude").value;
		
		//var jsonString=JSON.stringify(customObj);
		
		//document.cookie+=""+jsonString;
		//console.log(jsonString);
		
		var enteredCity=" "+document.getElementById("city-search").value+";latitude="+document.getElementById("latitude").value+";longitude="+document.getElementById("longitude").value;	
		 if( enteredCity != " " ){
		 document.cityentry=enteredCity;
		 document.cookie+="::"+enteredCity+";expires=Fri,1 Sept 2017 01:00:00 UTC;";
		 alert("Got"+enteredCity);
		  }
		
		}
		
		//function ReadCookie()
		//{
			
			//	var nameValueArray1=document.cookie.split("=");
				//var customObj= JSON.parse(nameValueArray1[1])
				//document.getElementById("city-search").value=customObj.city;
				//document.getElementById("latitude").value=customObj.latitude;
				//document.getElementById("longitude").value=customObj.longitude;
				
				
				//alert(document.cookie);

				//alert("Name="+nameValueArray1[0]+"value="+nameValueArray1[1]);
			
				
		//}
		
		function resetHome(){
		//alert("hello");
		 location.reload();
		
		}
		
		function printCookie(){
		
		//if(document.cookie.length!=0){
		
		    var print=document.cookie.split("::");
		// alert(print[0]);
		  $("#myform").hide();
		// document.getElementById("myform").innerHTML="";
		 for(var i=1;i<print.length;i++){
		 
			$('#printCookie').after('<p id="'+i+'">'+print[i]+'</p>');
			
			//$("#myform").append('<p>'+print[i]+'</p>');
		 
		 }
		// <button id="printCookie" onclick="printCookie()">Show Recent Places</button> 
		 $('#printCookie').after('<button id="printCookie" onclick="resetHome()">Home</button> ');
		 
		    // for(var i=0;i<print.length;i++){
		      //  var nameValueArray=print[i].split("=");
		  
		        
		        
		      //}
			  //console.log(document.cookie)
			  
			//  document.getElementById("myform").innerHTML=nameValueArray;
		 
		//  }
	    
        //  else{
	  
	     //  alert("Cookie not found");
	  
	    //  }		
		 
	//	}
		
	
		//document.write(print);
		//document.getElementById("myform").innerHTML=print;
	    console.log(document.cookie);
		}
		
		
		
		
		
		</script>
	</body>
</html>
